image: gcc

stages:
  - cmake
  - build

cmake:
  stage: cmake
  before_script:
    - apt update; apt -y install make autoconf cmake
  script:
    - cmake -G "Unix Makefiles" -S ./ -B build

build:
  stage: build
  before_script: 
    - cd build
  script:
    - make
  artifacts:
    paths:
      - build/libInterest.a
      - build/test/test-Ini
